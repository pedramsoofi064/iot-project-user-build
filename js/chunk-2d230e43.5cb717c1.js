(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230e43"],{ede3:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("اطلاعات کاربری")]),r("div",[r("v-row",{staticClass:"mt-6"},[r("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[r("v-text-field",{attrs:{label:"نام",solo:"",loading:e.loading,"hide-details":""},model:{value:e.profile.name,callback:function(t){e.$set(e.profile,"name",t)},expression:"profile.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[r("v-text-field",{attrs:{label:"نام خانوادگی",solo:"",loading:e.loading,"hide-details":""},model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[r("v-text-field",{attrs:{label:"ایمیل",solo:"",loading:e.loading,"hide-details":""},model:{value:e.profile.email,callback:function(t){e.$set(e.profile,"email",t)},expression:"profile.email"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[r("v-text-field",{attrs:{label:"آدرس",solo:"",loading:e.loading,"hide-details":""},model:{value:e.profile.address,callback:function(t){e.$set(e.profile,"address",t)},expression:"profile.address"}})],1),r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-btn",{attrs:{color:"primary",width:"150",loading:e.loading},on:{click:function(t){return e.postProfile()}}},[e._v("ویرایش")])],1)],1)],1)])},i=[],n=(r("b0c0"),r("4d63"),r("ac1f"),r("25f0"),r("5530")),o=(r("96cf"),r("1da1")),l=r("cee4"),s={name:"Profile",data:function(){return{loading:!1,isFirstTime:!0,profile:{email:"",address:"",name:"",lastName:""},oldData:null}},mounted:function(){this.getProfile()},methods:{getProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(l["a"])({method:"GET",url:"/profile",headers:{Authorization:"Bearer "+e.$cookies.get("user-token")}});case 4:r=t.sent,a=r.data,e.profile=a,e.oldData=JSON.parse(JSON.stringify(a)),e.isFirstTime=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.isFirstTime?e.$toast.warning("اطلاعات حساب خود را تکمیل کنید"):e.$toast.error("خطایی رخ داد");case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()},postProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,r=Object(n["a"])({},e.profile),!(r.lastName.length<3||r.name.length<3)){t.next=5;break}return e.$toast.error("نام  و نام خانوادگی باید بیشتر از 3 کاراکتر باشد"),t.abrupt("return");case 5:if(a=new RegExp(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),a.test(""+r.email)){t.next=9;break}return e.$toast.error("ایمیل معتبر نمی باشد"),t.abrupt("return");case 9:if(!(r.address.length<8)){t.next=12;break}return e.$toast.error("  آدرس باید بیشتر از 8 کاراکتر باشد"),t.abrupt("return");case 12:return r.email===e.oldData.email&&delete r.email,r.name===e.oldData.name&&delete r.name,r.lastName===e.oldData.lastName&&delete r.lastName,r.address===e.oldData.address&&delete r.address,t.prev=16,t.next=19,Object(l["a"])({method:e.isFirstTime?"POST":"PATCH",url:"/profile",headers:{Authorization:"Bearer "+e.$cookies.get("user-token")},data:r});case 19:e.getProfile(),e.isFirstTime&&(e.isFirstTime=!1),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](16),e.$toast.error("خطایی رخ داد");case 26:return t.prev=26,e.loading=!1,t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[16,23,26,29]])})))()},putProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,Object(l["a"])({method:"PATCH",url:"/profile",headers:{Authorization:"Bearer "+e.$cookies.get("user-token")},data:e.profile});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.$toast.error("خطایی رخ داد");case 9:return t.prev=9,e.loading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})))()}}},c=s,d=r("2877"),u=Object(d["a"])(c,a,i,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d230e43.5cb717c1.js.map